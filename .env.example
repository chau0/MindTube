# MindTube Environment Configuration
# Copy this file to .env and configure your settings

# =============================================================================
# CORE SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Application settings
APP_NAME=MindTube
APP_VERSION=0.1.0
DEBUG=true

# =============================================================================
# AZURE OPENAI CONFIGURATION
# =============================================================================

# Azure OpenAI endpoint (required)
# Example: https://your-resource.openai.azure.com/
AZURE_OPENAI_ENDPOINT=

# Azure OpenAI API key (required)
AZURE_OPENAI_API_KEY=

# Azure OpenAI API version
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Model deployments (adjust based on your Azure deployments)
AZURE_OPENAI_CHAT_MODEL=gpt-4
AZURE_OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# Token limits and costs
MAX_TOKENS_PER_REQUEST=4000
MAX_TOTAL_TOKENS_PER_RUN=50000
COST_LIMIT_USD=10.00

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite database path (for local development)
DATABASE_URL=sqlite:///./data/mindtube.db

# PostgreSQL (for production-like testing)
# DATABASE_URL=postgresql://mindtube:mindtube_dev_password@localhost:5432/mindtube

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URL for caching and sessions
REDIS_URL=redis://localhost:6379/0

# Redis settings
REDIS_TTL_SECONDS=3600
REDIS_MAX_CONNECTIONS=10

# =============================================================================
# FILE STORAGE
# =============================================================================

# Local storage paths
DATA_DIR=./data
CACHE_DIR=./data/cache
EXPORT_DIR=./data/exports
LOG_DIR=./data/logs

# S3-compatible storage (optional, for production)
# S3_ENDPOINT=http://localhost:9000
# S3_ACCESS_KEY=mindtube
# S3_SECRET_KEY=mindtube_dev_password
# S3_BUCKET=mindtube-artifacts
# S3_REGION=us-east-1

# =============================================================================
# YOUTUBE API SETTINGS
# =============================================================================

# YouTube transcript settings
YOUTUBE_TRANSCRIPT_LANGUAGES=en,es,fr,de,it,pt,ja,ko,zh
YOUTUBE_TRANSCRIPT_TIMEOUT=30

# ASR fallback settings (when transcripts unavailable)
ASR_ENABLED=true
ASR_MODEL=whisper-1
ASR_LANGUAGE=auto

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================

# FastAPI settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
API_RELOAD=true

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# =============================================================================
# WEB FRONTEND CONFIGURATION
# =============================================================================

# Next.js settings
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_APP_NAME=MindTube
NEXT_PUBLIC_APP_VERSION=0.1.0

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log format (json, text)
LOG_FORMAT=text

# Structured logging
LOG_JSON=false

# Metrics and monitoring
METRICS_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Secret key for sessions and JWT tokens
SECRET_KEY=your-secret-key-change-this-in-production

# JWT settings
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# API key for external access (optional)
API_KEY=

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development flags
DEV_MOCK_LLM=false
DEV_MOCK_YOUTUBE=false
DEV_SKIP_CACHE=false
DEV_VERBOSE_LOGGING=true

# Testing settings
TEST_DATABASE_URL=sqlite:///:memory:
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
FEATURE_ASR_FALLBACK=true
FEATURE_MINDMAP_EXPORT=true
FEATURE_PDF_EXPORT=true
FEATURE_BATCH_PROCESSING=false
FEATURE_USER_ACCOUNTS=false

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Concurrency settings
MAX_CONCURRENT_REQUESTS=5
MAX_CONCURRENT_LLM_CALLS=3
CHUNK_PROCESSING_BATCH_SIZE=10

# Timeout settings
HTTP_TIMEOUT_SECONDS=30
LLM_TIMEOUT_SECONDS=60
YOUTUBE_DOWNLOAD_TIMEOUT_SECONDS=120

# Cache settings
CACHE_TTL_HOURS=24
CACHE_MAX_SIZE_MB=1000

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Optional: Sentry for error tracking
# SENTRY_DSN=

# Optional: Analytics
# ANALYTICS_ENABLED=false
# ANALYTICS_API_KEY=

# Optional: Email notifications
# EMAIL_ENABLED=false
# SMTP_HOST=
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# EMAIL_FROM=noreply@mindtube.dev